@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* navbar, brand logo, hero sizes */
  --nav-small-height: 6rem;
  --nav-mid-height: 7rem;
  --nav-big-height: 8rem;
  --logo-small-size: calc(var(--nav-small-height) / 2);
  --logo-mid-size: calc(var(--nav-mid-height) / 2);
  --logo-big-size: calc(var(--nav-big-height) / 2);

  --hero-small-mt: calc(var(--nav-small-height) + 1rem);
  --hero-mid-mt: calc(var(--nav-mid-height));
  --hero-big-mt: calc(var(--nav-big-height));

  /* animations */
  --title-duration: 700ms;

  --sub-title-duration: 500ms;
  --sub-title-delay: calc(var(--title-duration) - 200ms);
  --sub-title-bis-delay: calc(var(--sub-title-delay) + 200ms);

  --after_titles_delay: calc(var(--title-duration) + var(--sub-title-duration));

  --header-duration: 400ms;
  --header-delay: var(--after_titles_delay);

  --arrow-duration: 800ms;
  --arrow-delay: var(--after_titles_delay);

  --sub-hero-duration: 400ms;
  --sub-hero-delay: var(--after_titles_delay);
}

@layer base {
  html,
  body {
    overflow-x: hidden;
  }

  /*  */
  .home-page-layout {
    @apply pb-4 
      xs:pb-8 
      sm:pb-16
      md:pb-24
      lg:pb-32;
  }

  /* non-home page layout */
  .page-layout {
    /* mt-[Xrem] to push the content below the navbar on non-home pages */
    @apply mt-[var(--nav-small-height)] 
      py-4
      xs:py-8 
      sm:mt-[var(--nav-mid-height)] 
      sm:py-16
      md:mt-[var(--nav-big-height)]
      md:py-24
      lg:py-32;
  }

  section:not(#hero) {
    @apply py-8;
  }

  section:not(#hero):nth-of-type(2n) {
    @apply bg-cf-white text-cf-dark dark:bg-cf-dark dark:text-cf-white;
  }

  .layout-gradient {
    @apply bg-gradient-to-r from-stone-100 to-stone-50 text-cf-dark dark:from-cf-dark dark:to-cf-dark dark:text-cf-white;
  }

  h1 {
    @apply text-gradient mb-5 text-4xl font-extrabold sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl 2xl:text-9xl;
  }

  h2 {
    @apply text-gradient mb-4 text-2xl font-bold sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl 2xl:text-7xl;
  }
  h3 {
    @apply text-gradient  mb-3 text-xl font-semibold sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl 2xl:text-6xl;
  }
  h4 {
    @apply text-gradient  mb-2 text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl 2xl:text-5xl;
  }
  h5 {
    @apply text-gradient  mb-2 text-base sm:text-lg md:text-xl lg:text-2xl xl:text-3xl 2xl:text-4xl;
  }
  h6 {
    /* @apply text-gradient  text-sm md:text-base 2xl:text-[1.35rem]; */
    @apply text-gradient  text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl 2xl:text-3xl;
  }

  p {
    @apply mb-2 mt-8 text-cf-dark dark:text-cf-white sm:my-8 sm:text-lg md:text-xl lg:text-2xl xl:text-2xl 2xl:text-3xl;
  }

  /* button, links */
  button,
  a.btn-as {
    @apply rounded-[0.5em] border-none text-base font-extrabold uppercase text-cf-white shadow-sm outline-none transition-all duration-300 ease-in-out sm:text-lg md:text-xl;

    &:not(.btn-hover-small-scale):hover {
      @apply scale-110 rounded-[0.5em];
    }
    &.btn-hover-small-scale:hover {
      @apply scale-105 rounded-[0.5em];
    }
  }

  a.dark-white-link {
    @apply text-cf-dark
      transition-all duration-300 ease-in-out
    hover:text-cf-dark/90 
    dark:text-cf-white 
    dark:hover:text-cf-white/90;
  }

  a.underline-gradient-link {
    @apply relative
      transition-all
      duration-300
      ease-in-out 

      after:absolute 
      after:bottom-[-0.1em] 
      after:left-0
      after:h-[0.1em]
      after:w-0

      after:transition-all
      after:duration-500
      after:ease-in-out
      
      after:content-[""]

      hover:after:w-full
    hover:after:bg-primary/75 
      focus:after:w-full 
    focus:after:bg-primary/75 
      active:after:w-full 
    active:after:bg-primary/75
    dark:hover:after:bg-secondaryDark/75
    dark:focus:after:bg-secondaryDark/75
    dark:active:after:bg-secondaryDark/75;
  }

  /*  */
  hr {
    @apply h-[0.1rem] bg-primary;
  }
}

@layer components {
  /* header, navbar */
  #header {
    @apply z-[999];

    &.home-navTop {
      animation: home-navTop-enter var(--header-duration) ease
        var(--header-delay) backwards;
    }

    .navbar {
      @apply z-[999] 
        h-[var(--nav-small-height)]
        sm:h-[var(--nav-mid-height)]
        md:h-[var(--nav-big-height)];

      & .brand-logo {
        @apply absolute
          left-2
          h-[var(--logo-small-size)]
          w-[var(--logo-small-size)]
          rounded-full 
          border-none
          bg-gradient-to-r 
        from-primary
        to-secondary
          p-1
          shadow-sm
        shadow-primary
          outline-none
          ring-2 
        ring-primary
          transition-all
          duration-300 ease-in-out  
          hover:scale-110
          focus:scale-110
        dark:from-cf-dark 
        dark:to-cf-dark/95
          dark:shadow-sm
        dark:shadow-primary 
          dark:ring-1
        dark:ring-primary
          sm:h-[var(--logo-mid-size)] 
          sm:w-[var(--logo-mid-size)]
          md:h-[var(--logo-big-size)] 
          md:w-[var(--logo-big-size)];
      }
    }
  }

  /* hero */
  #hero {
    .hero-image {
      @apply absolute left-0 right-0 top-0 h-full max-w-full rounded-[0.25em] bg-[url('/images/surf.png')] bg-cover bg-[35%] bg-no-repeat sm:bg-[25%] md:bg-[15%];
    }

    .hero-title-wrapper {
      @apply mt-[var(--hero-small-mt)]
        rounded-[0.5em]
        p-[0.75rem] 
        sm:mt-[var(--hero-mid-mt)]
        md:mt-[var(--hero-big-mt)];

      animation: hero-title-wrapper-enter calc(var(--title-duration) * 1.5)
        ease-in forwards;

      & .title,
      & .sub-title {
        text-shadow: 0.15rem 0.15rem 0 hsla(240, 5%, 96%, 0.15);
      }
    }
  }

  /* to prevent flash before hero image is painted */
  #sub-hero {
    animation: sub-hero-enter var(--sub-hero-duration) ease
      var(--sub-hero-delay) backwards;
  }

  .title {
    animation: title-enter var(--title-duration)
      cubic-bezier(0.74, 0.01, 0.76, 1.3) both;
  }
  .sub-title {
    animation: sub-title-enter var(--sub-title-duration)
      cubic-bezier(0.74, 0.01, 0.76, 1.3) var(--sub-title-delay) both;
  }
  .sub-title-bis {
    animation: sub-title-bis-enter var(--sub-title-duration)
      cubic-bezier(0.74, 0.01, 0.76, 1.3) var(--sub-title-bis-delay) both;
  }

  .arrow {
    animation:
      arrow_enter var(--arrow-duration) ease var(--arrow-delay) both,
      arrow_bounce 1s var(--arrow-delay) infinite both;
  }

  .toggle-mobile-btn {
    @apply [&>div::after]:translate-y-0 [&>div::after]:-rotate-45 [&>div::before]:translate-y-0 [&>div::before]:rotate-45 [&>div]:rotate-[720deg] [&>div]:bg-transparent;
  }

  .text-gradient {
    @apply bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent dark:from-cf-white dark:to-cf-white/90;
  }

  .text-gradient-always-colored {
    @apply bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent;
  }

  .border-gradient {
    @apply border-none bg-gradient-to-r from-primary to-secondary dark:to-secondaryDark dark:text-cf-white;
  }

  /* button-as-gradient variants */
  .btn-as-gradient {
    @apply bg-gradient-to-r
      from-primary to-secondary shadow-secondary/50 [text-shadow:_0.05em_0.05em_0_#3b82f6] dark:to-secondaryDark
      dark:shadow-secondaryDark/50;

    &:hover {
      @apply bg-gradient-to-r from-primary/95 to-secondary/95 ring-1 ring-secondary/95 dark:to-secondaryDark/95 dark:ring-secondaryDark/95;
    }
  }

  .btn-as-gradient-amber {
    @apply bg-gradient-to-r from-ternary to-ternary-light shadow-ternary/50 [text-shadow:_0.05em_0.05em_0_#52525b];

    &:hover {
      @apply bg-gradient-to-r from-ternary/95 to-ternary-light/95 ring-1 ring-ternary-light/95;
    }
  }
}

@keyframes home-navTop-enter {
  from {
    opacity: 0;
    transform: translateY(-10vh);
  }
}

@keyframes title-enter {
  from {
    transform: translateX(-100vw);
  }
}

@keyframes sub-title-enter {
  from {
    transform: translateX(100vw);
  }
}

@keyframes sub-title-bis-enter {
  from {
    transform: translateX(-100vw);
  }
}

@keyframes hero-title-wrapper-enter {
  to {
    @apply bg-cf-dark/5 opacity-100;
  }
}

@keyframes arrow_enter {
  from {
    transform: rotateZ(180deg);
    opacity: 0;
  }
  to {
    transform: rotateZ(0deg);
    opacity: 1;
  }
}

@keyframes arrow_bounce {
  0%,
  100% {
    transform: translateY(-25%);
    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
  }
  50% {
    transform: translateY(0);
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
  }
}

@keyframes sub-hero-enter {
  from {
    opacity: 0;
  }
}
